

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>toyz.utils.db_interfaces package &mdash; Toyz 0.0.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Toyz 0.0.0 documentation" href="index.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Toyz</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="overview.html#what-is-toyz">What is Toyz?</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html#possible-use-cases">Possible Use Cases</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#optional-but-highly-recommended-requirements">Optional (but highly recommended) Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-toyz">Installing Toyz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#first-time-setup">First Time Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#running-a-toyz-application">Running a Toyz Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#configuring-a-new-toyz-web-application">Configuring a New Toyz Web Application</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workspaces.html">Workspaces</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workspaces.html#data-sources">Data Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="workspaces.html#tiles">Tiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="workspaces.html#loading-and-saving-a-workspace">Loading and Saving a Workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="workspaces.html#sharing-workpsaces">Sharing Workpsaces</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="viewer.html">Image Viewer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="viewer.html#creating-a-new-viewer">Creating a new Viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html#image-viewer-controls">Image Viewer Controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="viewer.html#saving-a-viewer-tile">Saving a Viewer Tile</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="highcharts.html">Highcharts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="highcharts.html#creating-a-new-chart">Creating a New Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="highcharts.html#adding-series-to-a-chart">Adding Series to a Chart</a></li>
<li class="toctree-l2"><a class="reference internal" href="highcharts.html#modifying-a-charts-properties">Modifying a Charts Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="highcharts.html#selecting-points-and-zooming-in">Selecting Points and Zooming in</a></li>
<li class="toctree-l2"><a class="reference internal" href="highcharts.html#removing-points">Removing Points</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="custom_toyz.html">Creating Custom Toyz</a><ul>
<li class="toctree-l2"><a class="reference internal" href="custom_toyz.html#creating-and-installing-your-first-toy">Creating and Installing Your First Toy</a></li>
<li class="toctree-l2"><a class="reference internal" href="custom_toyz.html#making-it-your-own">Making it Your Own</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="toyz_api.html">Toyz API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="toyz_api.html#toyz-core-js">toyz_core.js</a></li>
<li class="toctree-l2"><a class="reference internal" href="toyz_api.html#job-api">Job API</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_gui.html">Toyz Web GUI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_gui.html#parameters">Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_gui.html#properties-for-all-parameters">Properties for all Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_gui.html#container-parameters">Container Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_gui.html#input-parameters">Input Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_gui.html#input">input</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Toyz</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Toyz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>toyz.utils.db_interfaces package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/toyz.utils.db_interfaces.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="toyz-utils-db-interfaces-package">
<h1>toyz.utils.db_interfaces package<a class="headerlink" href="#toyz-utils-db-interfaces-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-toyz.utils.db_interfaces.sqlite_interface">
<span id="toyz-utils-db-interfaces-sqlite-interface-module"></span><h2>toyz.utils.db_interfaces.sqlite_interface module<a class="headerlink" href="#module-toyz.utils.db_interfaces.sqlite_interface" title="Permalink to this headline">¶</a></h2>
<p>Database interface to sqlite</p>
<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.check_user_type">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">check_user_type</tt><big>(</big><em>param_type</em>, <em>params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.check_user_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the user_type to either user_id or group_id depending on which
parameter is contained in <tt class="docutils literal"><span class="pre">params</span></tt>. This allows a client to specify a group using
either <tt class="docutils literal"><span class="pre">group_id='group_name'</span></tt> or <tt class="docutils literal"><span class="pre">user_id='group_name'</span></tt>, <tt class="docutils literal"><span class="pre">user_type='group_id'</span></tt>.</p>
<dl class="docutils">
<dt>Parameters</dt>
<dd><dl class="first last docutils">
<dt>param_type ( <em>string</em> ):</dt>
<dd><ul class="first last simple">
<li>Parameter from toyz.utils.db.param_formats used to identify how the parameter
is stored</li>
</ul>
</dd>
<dt>params ( <em>dict</em> ): </dt>
<dd><ul class="first last simple">
<li>dictionary containing either a <tt class="docutils literal"><span class="pre">user_id</span></tt> or <tt class="docutils literal"><span class="pre">group_id</span></tt> key (other kwargs)
may be included as well but have no affect on this function</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.create_toyz_database">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">create_toyz_database</tt><big>(</big><em>db_settings</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.create_toyz_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new toyz database with all of the necessary tables needed.</p>
<p>See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.delete_param">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">delete_param</tt><big>(</big><em>db_settings</em>, <em>param_type</em>, <em>wildcards=False</em>, <em>**params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.delete_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a parameter entry from the database.
See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.delete_workspace">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">delete_workspace</tt><big>(</big><em>db_settings</em>, <em>user_id</em>, <em>work_id</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.delete_workspace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_all_ids">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_all_ids</tt><big>(</big><em>db_settings</em>, <em>user_type</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_all_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all user_ids or group_ids depending on <tt class="docutils literal"><span class="pre">user_type</span></tt>.</p>
<p>See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_db_info">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_db_info</tt><big>(</big><em>db_settings</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_db_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get db_info for the database (includes the Toyz version that created the DB, any
updates made, and the current version of Toyz that the DB is configured for)</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_param">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_param</tt><big>(</big><em>db_settings</em>, <em>param_type</em>, <em>wildcards=False</em>, <em>**params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a parameter from the database. See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_path_info">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_path_info</tt><big>(</big><em>db_settings</em>, <em>path</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_path_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all of the users and permissions for a given path.</p>
<p>See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_table_names">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_table_names</tt><big>(</big><em>db_settings</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_table_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a list of all tables in the database.</p>
<dl class="docutils">
<dt>Parameters</dt>
<dd><ul class="first last simple">
<li>db_settings (<a href="#id1"><span class="problematic" id="id2">*</span></a>object( ): Database settings</li>
</ul>
</dd>
<dt>Returns</dt>
<dd>tables (<em>list</em>): List of table names in the current database</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.get_workspace_sharing">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">get_workspace_sharing</tt><big>(</big><em>db_settings</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.get_workspace_sharing" title="Permalink to this definition">¶</a></dt>
<dd><p>Get shared workspace information</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.init">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">init</tt><big>(</big><em>**params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Because some databases might need to have their connections initialized, every 
database interface is require to have an init function, even if it is empty, that
is called when the application is first opened</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.insert_ws_row">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">insert_ws_row</tt><big>(</big><em>db</em>, <em>user_id</em>, <em>work_id</em>, <em>row</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.insert_ws_row" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.update_all_params">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">update_all_params</tt><big>(</big><em>db_settings</em>, <em>param_type</em>, <em>**params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.update_all_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Update all parameters. See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.update_param">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">update_param</tt><big>(</big><em>db_settings</em>, <em>param_type</em>, <em>**params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.update_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a parameter. See <a class="reference internal" href="toyz.utils.html#module-toyz.utils.db" title="toyz.utils.db"><tt class="xref py py-mod docutils literal"><span class="pre">toyz.utils.db</span></tt></a> for more info.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.update_version">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">update_version</tt><big>(</big><em>db_settings</em>, <em>params</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.update_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the database when a Toyz version changes (if necessary). At the time params
is a dictionary that requires the keys &#8216;toyz_version&#8217; and &#8216;db_version&#8217;, the versions
of the Toyz instance and database respectively. In the future, updates to the DB may
require other parameters.</p>
</dd></dl>

<dl class="function">
<dt id="toyz.utils.db_interfaces.sqlite_interface.update_workspace">
<tt class="descclassname">toyz.utils.db_interfaces.sqlite_interface.</tt><tt class="descname">update_workspace</tt><big>(</big><em>db_settings</em>, <em>user_id</em>, <em>work_id</em>, <em>update_all=True</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#toyz.utils.db_interfaces.sqlite_interface.update_workspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Update sharing for a workspace</p>
</dd></dl>

</div>
<div class="section" id="module-toyz.utils.db_interfaces">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-toyz.utils.db_interfaces" title="Permalink to this headline">¶</a></h2>
<p>Common non-package specific utility functions</p>
</div>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Fred Moolekamp.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>